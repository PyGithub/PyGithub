https
GET
api.github.com
None
/search/issues?q=is%3Aopen+is%3Aissue+label%3Abug&per_page=1
{'Authorization': 'token private_token_removed', 'User-Agent': 'PyGithub/Python'}
None
200
[('Date', 'Wed, 29 Oct 2025 11:14:35 GMT'), ('Content-Type', 'application/json; charset=utf-8'), ('Cache-Control', 'no-cache'), ('Vary', 'Accept, Authorization, Cookie, X-GitHub-OTP,Accept-Encoding, Accept, X-Requested-With'), ('X-OAuth-Scopes', 'gist, read:org, repo'), ('X-Accepted-OAuth-Scopes', ''), ('x-oauth-client-id', '178c6fc778ccc68e1d6a'), ('X-GitHub-Media-Type', 'github.v3; format=json'), ('Link', '<https://api.github.com/search/issues?q=is%3Aopen+is%3Aissue+label%3Abug&per_page=1&page=2>; rel="next", <https://api.github.com/search/issues?q=is%3Aopen+is%3Aissue+label%3Abug&per_page=1&page=1000>; rel="last"'), ('x-github-api-version-selected', '2022-11-28'), ('X-RateLimit-Limit', '30'), ('X-RateLimit-Remaining', '27'), ('X-RateLimit-Reset', '1761736498'), ('X-RateLimit-Used', '3'), ('X-RateLimit-Resource', 'search'), ('Access-Control-Expose-Headers', 'ETag, Link, Location, Retry-After, X-GitHub-OTP, X-RateLimit-Limit, X-RateLimit-Remaining, X-RateLimit-Used, X-RateLimit-Resource, X-RateLimit-Reset, X-OAuth-Scopes, X-Accepted-OAuth-Scopes, X-Poll-Interval, X-GitHub-Media-Type, X-GitHub-SSO, X-GitHub-Request-Id, Deprecation, Sunset'), ('Access-Control-Allow-Origin', '*'), ('Strict-Transport-Security', 'max-age=31536000; includeSubdomains; preload'), ('X-Frame-Options', 'deny'), ('X-Content-Type-Options', 'nosniff'), ('X-XSS-Protection', '0'), ('Referrer-Policy', 'origin-when-cross-origin, strict-origin-when-cross-origin'), ('Content-Security-Policy', "default-src 'none'"), ('Content-Encoding', 'gzip'), ('Transfer-Encoding', 'chunked'), ('Server', 'github.com'), ('X-GitHub-Request-Id', 'A044:34DD77:9C3EAA6:93D8508:6901F71A')]
{"total_count":2323889,"incomplete_results":false,"items":[{"url":"https://api.github.com/repos/nonebot/plugin-alconna/issues/123","repository_url":"https://api.github.com/repos/nonebot/plugin-alconna","labels_url":"https://api.github.com/repos/nonebot/plugin-alconna/issues/123/labels{/name}","comments_url":"https://api.github.com/repos/nonebot/plugin-alconna/issues/123/comments","events_url":"https://api.github.com/repos/nonebot/plugin-alconna/issues/123/events","html_url":"https://github.com/nonebot/plugin-alconna/issues/123","id":3565473939,"node_id":"I_kwDOJ-GOAs7UhNCT","number":123,"title":"[Bug]使用UniMessage.dump时，遇上QQ这种使用临时URL的，似乎做不到真正的“持久化”","user":{"login":"SnowMoonSS","id":21017431,"node_id":"MDQ6VXNlcjIxMDE3NDMx","avatar_url":"https://avatars.githubusercontent.com/u/21017431?v=4","gravatar_id":"","url":"https://api.github.com/users/SnowMoonSS","html_url":"https://github.com/SnowMoonSS","followers_url":"https://api.github.com/users/SnowMoonSS/followers","following_url":"https://api.github.com/users/SnowMoonSS/following{/other_user}","gists_url":"https://api.github.com/users/SnowMoonSS/gists{/gist_id}","starred_url":"https://api.github.com/users/SnowMoonSS/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/SnowMoonSS/subscriptions","organizations_url":"https://api.github.com/users/SnowMoonSS/orgs","repos_url":"https://api.github.com/users/SnowMoonSS/repos","events_url":"https://api.github.com/users/SnowMoonSS/events{/privacy}","received_events_url":"https://api.github.com/users/SnowMoonSS/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":5759660361,"node_id":"LA_kwDOJ-GOAs8AAAABV01xSQ","url":"https://api.github.com/repos/nonebot/plugin-alconna/labels/bug","name":"bug","color":"d73a4a","default":true,"description":"Something isn't working"}],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2025-10-29T11:14:20Z","updated_at":"2025-10-29T11:14:20Z","closed_at":null,"author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"## 请确认：\n<!-- 确认后，请将方括号的空格替换为 x -->\n* [x] 问题的标题明确\n* [x] 我翻阅过其他的issue并且找不到类似的问题\n* [x] 我已经阅读了[相关文档](https://nonebot.dev/docs/next/best-practice/alconna/) 并仍然认为这是一个Bug\n\n# Bug（或许这是在预期中的，不算是bug）\n~~如果不算是bug，就当这是个feature的请求吧~~\n\n## 问题&复现\n<!-- 你遇到的问题 -->\n在同构OnebotV11连接到NapCat时，如果收到了图片消息，消息会被解析为\n```\nImage(id='7B726084EF82FE6A32B58B8A01CCC63D.jpg', url='https://multimedia.nt.qq.com.cn/download?appid=1407&fileid=EhRsktU95kR211zWPuHmV_EsJ4JbbhjFywMg_woos7m5vJzJkAMyBHByb2RQgL2jAVoQkGLk46AH47WDkFoHHPRr8XoCfqKCAQJuag&rkey=CAMSML_gimSORYkj29SSNFLDZI7J4Yab-IrER7E3sxc59g-KBXLyPheHZB-oIHT9ah1QKQ', path=None, raw=None, mimetype=None, name='image.png', width=None, height=None, sticker=True\n```\n这里面的URL是临时的，一两天内就会失效（可能一会就失效了，没做测试），UniMessage.dump()之后也是只保留这个url。之后如果url失效再load然后发送就会出错\n\n## 预期行为\n<!-- 你希望如何更改/原本应该是怎样的 -->\n根据函数的描述：\n若 media_save_dir 为 False，则不会保存媒体文件。\n若 media_save_dir 为 True，则会将文件数据转为 base64 编码。\n在dump持久化的时候能把包含url的消息，把url的内容下载下来或者转为 base64 编码\n\n## 使用环境:\n- Python 版本: 3.13.7\n- Nonebot2 版本: 2.4.4\n- Alconna 版本: 0.60.3\n- NapCat版本: 4.8.122\n这是在 Nonebot2 下以 OneBot V11 协议连接 NapCat 时出现的问题\n\n## 日志/截图\n<!-- 将任何有关的日志/截图放到这里（如：控制台输出) -->\n```\n10-29 19:03:42 [SUCCESS] nonebot | OneBot V11 1234567890| [message.group.normal]: Message 1229695863 from 123456789@[群:123456789] '//pe add 图片测试 [image:summary=[动画表情],file=D3A45C2AF9FCDAF9BE502444603AD1F4.jpg,sub_type=1,url=https://multimedia.nt.qq.com.cn/download?appid=1407&fileid=EhTkhnTF...,file_size=348721]'\n10-29 19:03:42 [DEBUG] nonebot | Checking for matchers in priority 1...\n10-29 19:03:42 [DEBUG] nonebot | Plugin-Alconna | Alconna::perithacus 对 \"//pe add 图片测试 [image]\" 的解析结果是 (matched=True, header_match=(origin='//pe' result='//perithacus' matched=True groups={}), subcommands={'add': (value=Ellipsis args={'keyword': '图片测试', 'content': (Image(id='D3A45C2AF9FCDAF9BE502444603AD1F4.jpg', url='https://multimedia.nt.qq.com.cn/download?appid=1407&fileid=EhTkhnTF0iF0L8BcW_6YUsutoRqtphixpBUg_wool9OXr6HJkAMyBHByb2RQgL2jAVoQNY63LgucUhLpOsKga6a7XXoC6ceCAQJuag&rkey=CAMSML_gimSORYkj29SSNFLDZI7J4Yab-IrER7E3sxc59g-KBXLyPheHZB-oIHT9ah1QKQ', path=None, raw=None, mimetype=None, name='image.png', width=None, height=None, sticker=True),)} options={'match': (value='精准' args={}), 'random': (value=True args={}), 'cron': (value='' args={}), 'scope': (value='' args={}), 'reg': (value='' args={}), 'alias': (value='' args={})} subcommands={})}, other_args={'keyword': '图片测试', 'content': (Image(id='D3A45C2AF9FCDAF9BE502444603AD1F4.jpg', url='https://multimedia.nt.qq.com.cn/download?appid=1407&fileid=EhTkhnTF0iF0L8BcW_6YUsutoRqtphixpBUg_wool9OXr6HJkAMyBHByb2RQgL2jAVoQNY63LgucUhLpOsKga6a7XXoC6ceCAQJuag&rkey=CAMSML_gimSORYkj29SSNFLDZI7J4Yab-IrER7E3sxc59g-KBXLyPheHZB-oIHT9ah1QKQ', path=None, raw=None, mimetype=None, name='image.png', width=None, height=None, sticker=True),)})\n10-29 19:03:42 [INFO] nonebot | Event will be handled by AlconnaMatcherMeta(type='', command=Alconna::perithacus, module=src.plugins.nonebot_plugin_perithacus.command, lineno=73)\n10-29 19:03:42 [DEBUG] nonebot | Running AlconnaMatcher(type='', command=Alconna::perithacus, module=src.plugins.nonebot_plugin_perithacus.command, lineno=73)\n10-29 19:03:42 [DEBUG] nonebot | Running handler Dependent(call=handle_main, parameterless=(Depends(Dependent(call=_arparma_check), use_cache=False),))\n10-29 19:03:42 [DEBUG] nonebot | Handler Dependent(call=handle_main, parameterless=(Depends(Dependent(call=_arparma_check), use_cache=False),)) skipped\n10-29 19:03:42 [DEBUG] nonebot | Running handler Dependent(call=_, parameterless=(Depends(Dependent(call=_arparma_check), use_cache=False),))\n10-29 19:03:44 [DEBUG] nonebot | OneBot V11 | Calling API send_msg\n10-29 19:03:45 [INFO] nonebot | AlconnaMatcher(type='', command=Alconna::perithacus, module=src.plugins.nonebot_plugin_perithacus.command, lineno=73) running complete\n10-29 19:03:45 [DEBUG] nonebot | Checking for matchers completed\n```","reactions":{"url":"https://api.github.com/repos/nonebot/plugin-alconna/issues/123/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/nonebot/plugin-alconna/issues/123/timeline","performed_via_github_app":null,"state_reason":null,"score":1.0}]}

https
GET
api.github.com
None
/search/issues?q=type%3Apr+repo%3AClickHouse%2FClickHouse+-label%3Apr-backports-created+label%3Apr-must-backport%2Cv25.3-must-backport%2Cv25.7-must-backport%2Cv25.8-must-backport%2Cv25.9-must-backport%2Cv25.10-must-backport%2Cpr-must-backport+merged%3A2025-01-01..2025-12-31&per_page=1
{'Authorization': 'token private_token_removed', 'User-Agent': 'PyGithub/Python'}
None
200
[('Date', 'Wed, 29 Oct 2025 11:14:37 GMT'), ('Content-Type', 'application/json; charset=utf-8'), ('Cache-Control', 'no-cache'), ('Vary', 'Accept, Authorization, Cookie, X-GitHub-OTP,Accept-Encoding, Accept, X-Requested-With'), ('X-OAuth-Scopes', 'gist, read:org, repo'), ('X-Accepted-OAuth-Scopes', ''), ('x-oauth-client-id', '178c6fc778ccc68e1d6a'), ('X-GitHub-Media-Type', 'github.v3; format=json'), ('x-github-api-version-selected', '2022-11-28'), ('X-RateLimit-Limit', '30'), ('X-RateLimit-Remaining', '26'), ('X-RateLimit-Reset', '1761736498'), ('X-RateLimit-Used', '4'), ('X-RateLimit-Resource', 'search'), ('Access-Control-Expose-Headers', 'ETag, Link, Location, Retry-After, X-GitHub-OTP, X-RateLimit-Limit, X-RateLimit-Remaining, X-RateLimit-Used, X-RateLimit-Resource, X-RateLimit-Reset, X-OAuth-Scopes, X-Accepted-OAuth-Scopes, X-Poll-Interval, X-GitHub-Media-Type, X-GitHub-SSO, X-GitHub-Request-Id, Deprecation, Sunset'), ('Access-Control-Allow-Origin', '*'), ('Strict-Transport-Security', 'max-age=31536000; includeSubdomains; preload'), ('X-Frame-Options', 'deny'), ('X-Content-Type-Options', 'nosniff'), ('X-XSS-Protection', '0'), ('Referrer-Policy', 'origin-when-cross-origin, strict-origin-when-cross-origin'), ('Content-Security-Policy', "default-src 'none'"), ('Content-Encoding', 'gzip'), ('Transfer-Encoding', 'chunked'), ('Server', 'github.com'), ('X-GitHub-Request-Id', 'A054:1BA1B1:9A5D460:91F9129:6901F71B')]
{"total_count":0,"incomplete_results":true,"items":[]}

https
GET
api.github.com
None
/search/issues?q=type%3Apr+repo%3AClickHouse%2FClickHouse+-label%3Apr-backports-created+label%3Apr-must-backport%2Cv25.3-must-backport%2Cv25.7-must-backport%2Cv25.8-must-backport%2Cv25.9-must-backport%2Cv25.10-must-backport%2Cpr-must-backport+merged%3A2025-01-01..2025-12-31
{'Authorization': 'token private_token_removed', 'User-Agent': 'PyGithub/Python'}
None
200
[('Date', 'Wed, 29 Oct 2025 11:14:39 GMT'), ('Content-Type', 'application/json; charset=utf-8'), ('Cache-Control', 'no-cache'), ('Vary', 'Accept, Authorization, Cookie, X-GitHub-OTP,Accept-Encoding, Accept, X-Requested-With'), ('X-OAuth-Scopes', 'gist, read:org, repo'), ('X-Accepted-OAuth-Scopes', ''), ('x-oauth-client-id', '178c6fc778ccc68e1d6a'), ('X-GitHub-Media-Type', 'github.v3; format=json'), ('x-github-api-version-selected', '2022-11-28'), ('X-RateLimit-Limit', '30'), ('X-RateLimit-Remaining', '25'), ('X-RateLimit-Reset', '1761736498'), ('X-RateLimit-Used', '5'), ('X-RateLimit-Resource', 'search'), ('Access-Control-Expose-Headers', 'ETag, Link, Location, Retry-After, X-GitHub-OTP, X-RateLimit-Limit, X-RateLimit-Remaining, X-RateLimit-Used, X-RateLimit-Resource, X-RateLimit-Reset, X-OAuth-Scopes, X-Accepted-OAuth-Scopes, X-Poll-Interval, X-GitHub-Media-Type, X-GitHub-SSO, X-GitHub-Request-Id, Deprecation, Sunset'), ('Access-Control-Allow-Origin', '*'), ('Strict-Transport-Security', 'max-age=31536000; includeSubdomains; preload'), ('X-Frame-Options', 'deny'), ('X-Content-Type-Options', 'nosniff'), ('X-XSS-Protection', '0'), ('Referrer-Policy', 'origin-when-cross-origin, strict-origin-when-cross-origin'), ('Content-Security-Policy', "default-src 'none'"), ('Content-Encoding', 'gzip'), ('Transfer-Encoding', 'chunked'), ('Server', 'github.com'), ('X-GitHub-Request-Id', 'A062:13E6B9:9CF3345:9468D22:6901F71D')]
{"total_count":0,"incomplete_results":true,"items":[]}
